// =============================================================================
// Table Templates
// Phoebe Charts - Shared Table Template Styles
// =============================================================================

@use "variables" as *;
@use "colors" as *;

// -----------------------------------------------------------------------------
// Base Table Wrapper Mixins
// -----------------------------------------------------------------------------
@mixin table-wrapper {
  border: 1px solid $border-color;
  border-radius: 0.25rem;
  overflow: hidden;
  background: $white;
}

@mixin table-wrapper-scrollable {
  overflow-x: auto;
}

// -----------------------------------------------------------------------------
// Base Table Mixins
// -----------------------------------------------------------------------------
@mixin table-base {
  width: 100%;
  border-collapse: collapse;
  font-family: $font-family-base;
  font-size: $font-size-sm;

  th, td {
    padding: 0.5rem 0.75rem;
    vertical-align: middle;
  }
}

@mixin table-min-width($width: 700px) {
  min-width: $width;
}

// -----------------------------------------------------------------------------
// Table Header Mixins
// -----------------------------------------------------------------------------
@mixin table-header {
  background: $gray-50;
  border-bottom: 1px solid $border-color;
}

@mixin table-header-row {
  line-height: 1.2;
}

@mixin table-header-cell {
  font-weight: $font-weight-semibold;
  color: $text-secondary;
  text-transform: uppercase;
  font-size: 0.70rem;
  letter-spacing: 0.025em;
}

@mixin table-header-cell-centered {
  text-align: center;
}

@mixin table-header-cell-left {
  text-align: left;
}

@mixin table-header-period {
  text-align: center;
  font-weight: $font-weight-semibold;
  color: $text-primary;
  font-size: $font-size-sm;
  border-left: 1px solid $border-color;
  background: $gray-100;
}

@mixin table-header-subheader {
  font-weight: $font-weight-medium;
  color: $text-secondary;
  text-transform: uppercase;
  font-size: 0.65rem;
  letter-spacing: 0.02em;
  padding: 0.375rem 0.5rem;
}

// -----------------------------------------------------------------------------
// Table Body Mixins
// -----------------------------------------------------------------------------
@mixin table-group-header {
  background: $gray-100;
  border-top: 1px solid $border-color;
  border-bottom: 1px solid $border-color;

  td {
    font-weight: $font-weight-semibold;
    color: $text-primary;
    font-size: $font-size-sm;
    padding: 0.25rem 0.75rem;
  }
}

@mixin table-group-icon {
  margin-right: 0.5rem;
  color: $primary;
}

@mixin table-metric-row {
  line-height: 1.2;
  border-bottom: 1px solid $border-color-light;
  transition: background-color 0.15s ease;

  &:hover {
    background-color: rgba($primary, 0.04);
  }

  &:last-child {
    border-bottom: none;
  }

  // Multi-line tooltip support
  &[title] {
    white-space: pre-line;
  }
}

// -----------------------------------------------------------------------------
// Cell Type Mixins
// -----------------------------------------------------------------------------
@mixin table-cell-rank {
  text-align: center;
  color: $text-muted;
  font-size: 0.75rem;
  font-weight: $font-weight-medium;
  width: 50px;
}

@mixin table-cell-metric {
  text-align: left;
  padding-left: 1rem;
  color: $text-secondary;
  text-transform: uppercase;
  font-weight: $font-weight-normal;
  font-size: 0.70rem;
  letter-spacing: 0.015em;
}

@mixin table-cell-metric-bordered {
  border-right: 1px solid $border-color-light;
}

@mixin table-cell-current {
  text-align: center;
  padding: 0.625rem 0.5rem;
}

@mixin table-current-value {
  font-weight: $font-weight-bold;
  font-size: $font-size-base;
  color: $text-primary;
}

// -----------------------------------------------------------------------------
// Delta Cell Mixins
// -----------------------------------------------------------------------------
@mixin table-cell-delta {
  text-align: center;
  border-left: 1px solid $border-color-light;
  padding: 0.5rem;
}

@mixin table-cell-delta-primary {
  border-left: 1px solid $border-color;
}

@mixin table-delta-cell {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
}

@mixin table-delta-cell-column {
  flex-direction: column;
}

@mixin table-delta-icon {
  flex: 0 0 auto;
  width: 1.25rem;
  text-align: right;

  i {
    font-size: 2.0rem;
    padding-right: 1.5rem;
  }
}

@mixin table-delta-icon-small {
  i {
    font-size: 0.875rem;
  }
}

@mixin table-delta-values {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  min-width: 3.5rem;
}

@mixin table-delta-percentage {
  font-size: 0.80rem;
  font-weight: $font-weight-bold;
  line-height: 1.2;
}

@mixin table-delta-previous {
  font-size: 0.70rem;
  color: $text-muted;
  font-weight: $font-weight-light;
  line-height: 1.2;
}

// -----------------------------------------------------------------------------
// Values Cell Mixins (for MQYTD style)
// -----------------------------------------------------------------------------
@mixin table-cell-values {
  text-align: center;
  border-left: 1px solid $border-color-light;
  padding: 0.5rem;
}

@mixin table-values-current {
  font-weight: $font-weight-bold;
  font-size: $font-size-sm;
  color: $text-primary;
  line-height: 1.3;
}

@mixin table-values-previous {
  font-size: 0.70rem;
  color: $text-muted;
  font-weight: $font-weight-light;
  line-height: 1.2;
}

@mixin table-values-header {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

@mixin table-values-header-current {
  font-weight: $font-weight-semibold;
  color: $text-primary;
}

@mixin table-values-header-previous {
  font-weight: $font-weight-normal;
  color: $text-muted;
  font-size: 0.60rem;
}

// -----------------------------------------------------------------------------
// Table Footer Mixins
// -----------------------------------------------------------------------------
@mixin table-footer {
  background: $gray-50;
  border-top: 1px solid $border-color;
  font-size: 0.75rem;
}

@mixin table-footer-summary {
  text-align: center;
  padding: 0.5rem;
  color: $text-muted;

  strong {
    font-weight: $font-weight-medium;
  }
}

@mixin table-footer-row {
  line-height: 1.2;

  td {
    color: $text-muted;
    font-size: 0.70rem;
  }
}

@mixin table-footer-label {
  text-align: left;
  padding-left: 1rem;
}

@mixin table-footer-label-bordered {
  font-weight: $font-weight-semibold;
  color: $text-secondary;
  border-right: 1px solid $border-color-light;
}

@mixin table-footer-date {
  text-align: center;
}

@mixin table-footer-dates {
  text-align: center;
  border-left: 1px solid $border-color;
}

@mixin table-footer-dates-current {
  font-weight: $font-weight-medium;
  color: $text-secondary;
}

@mixin table-footer-dates-previous {
  color: $text-muted;
  font-size: 0.65rem;
}

// -----------------------------------------------------------------------------
// Semantic Color Utilities
// -----------------------------------------------------------------------------
@mixin table-text-success {
  color: $success;
}

@mixin table-text-danger {
  color: $danger;
}

@mixin table-text-muted {
  color: $text-muted;
}

// -----------------------------------------------------------------------------
// Font Size Utilities
// -----------------------------------------------------------------------------
@mixin table-font-size($size) {
  font-size: $size;
}

// Predefined font sizes
$table-font-sizes: (
  '0-55': 0.55rem,
  '0-60': 0.60rem,
  '0-65': 0.65rem,
  '0-70': 0.70rem,
  '0-75': 0.75rem,
  '0-80': 0.80rem,
  '0-90': 0.90rem
);

// -----------------------------------------------------------------------------
// Responsive Mixins
// -----------------------------------------------------------------------------
@mixin table-responsive-medium {
  font-size: $font-size-xs;

  th, td {
    padding: 0.375rem 0.5rem;
  }
}

@mixin table-responsive-small {
  font-size: $font-size-xs;

  th, td {
    padding: 0.375rem 0.5rem;
  }
}

// -----------------------------------------------------------------------------
// Dark Theme Mixins
// -----------------------------------------------------------------------------
@mixin table-dark-wrapper {
  background: $slate-800;
  border-color: rgba($white, 0.1);
}

@mixin table-dark-header {
  background: $slate-700;
  border-color: rgba($white, 0.1);
}

@mixin table-dark-group-header {
  background: $slate-700;
  border-color: rgba($white, 0.1);

  td {
    color: $slate-50;
  }
}

@mixin table-dark-row {
  border-color: rgba($white, 0.05);

  &:hover {
    background-color: rgba($white, 0.04);
  }
}

@mixin table-dark-text-primary {
  color: $slate-50;
}

@mixin table-dark-text-secondary {
  color: $slate-300;
}

@mixin table-dark-text-muted {
  color: $slate-400;
}

@mixin table-dark-border {
  border-color: rgba($white, 0.1);
}

@mixin table-dark-border-light {
  border-color: rgba($white, 0.05);
}

@mixin table-dark-footer {
  background: $slate-700;
  border-color: rgba($white, 0.1);
}
